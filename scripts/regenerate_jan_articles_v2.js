const Database = require('better-sqlite3');
const fs = require('fs');
const path = require('path');
const dbPath = path.join(__dirname, '..', 'anime.db');
const db = new Database(dbPath);

console.log('ğŸ“ Regenerating January Articles (v2) - Long Content & Images...');

// 1. Extract Images
const htmlPath = 'C:/Users/admin/Desktop/anime.html';
const htmlContent = fs.readFileSync(htmlPath, 'utf8');
const imageMap = {};
const regex = /<h2 class="item-title">(.*?)<\/h2>[\s\S]*?<img src="([^"]+)"/g;
let match;
while ((match = regex.exec(htmlContent)) !== null) {
    let title = match[1].replace(/ã€Š|ã€‹/g, '').split('ï¼š')[0].split(' ')[0];
    let img = match[2];
    imageMap[title] = img;
    // Normalized
    if (title.includes('å’’è¡“')) imageMap['å’’è¡“è¿´æˆ°'] = img;
    if (title.includes('èŠ™è‰è“®')) imageMap['è‘¬é€çš„èŠ™è‰è“®'] = img;
    if (title.includes('æˆ‘æ¨')) imageMap['æˆ‘æ¨çš„å­©å­'] = img;
    if (title.includes('ç‡ƒæ²¹è»Š')) imageMap['ç‡ƒæ²¹è»Šé¬¥é­‚'] = img;
    if (title.includes('åˆ¤è™•')) imageMap['åˆ¤è™•å‹‡è€…åˆ‘'] = img;
    if (title.includes('ç›¸å')) imageMap['ç›¸åçš„ä½ å’Œæˆ‘'] = img;
    if (title.includes('å…¬ä¸»')) imageMap['å…¬ä¸»æ®¿ä¸‹'] = img;
    // Map missing ones manually if needed (Fate, Party, Kaguya might not be in the HTML 10 items? User HTML had 10 items?
    // Let's check `items` array from previous script vs HTML.
    // HTML had: Vigilantes, Sentenced, JJK, Fire Force, Opposites, Fire Eater, Torture, Oshi no Ko, MF Ghost, Frieren.
    // User requested: Frieren, Oshi no Ko, JJK, MF Ghost, Party, Sentenced, Kaguya, Fate, Opposites, Torture.
    // HTML has: Vigilantes, Fire Force, Fire Eater.
    // Missing in HTML: Party, Kaguya, Fate.
    // We need placeholders for these 3 if not in HTML.
    // Use generic placeholders or best guess.
}

// Fallback images
const fallbackImg = '/assets/placeholder.jpg';
const getImg = (key) => imageMap[key] || fallbackImg;

// 2. Define Long Content (approx 300 chars)
// I will create rich descriptions.
const items = [
    {
        t: 'è‘¬é€çš„èŠ™è‰è“® ç¬¬äºŒå­£',
        key: 'è‘¬é€çš„èŠ™è‰è“®',
        url: 'https://www.myvideo.net.tw/details/4/32568',
        desc: 'é€™æ˜¯ä¸€éƒ¨é—œæ–¼ã€ŒçµæŸä¹‹å¾Œã€çš„æ•…äº‹ã€‚æ‰“å€’é­”ç‹ã€å‡±æ—‹æ­¸ä¾†çš„å‹‡è€…ä¸€è¡Œäººï¼Œåœ¨æ…¶ç¥ä¹‹å¾Œå›æ­¸äº†å„è‡ªçš„ç”Ÿæ´»ã€‚å°æ–¼æ“æœ‰åƒå¹´å£½å‘½çš„ç²¾éˆé­”æ³•ä½¿èŠ™è‰è“®ä¾†èªªï¼Œé€™åå¹´çš„å†’éšªåƒ…åƒ…æ˜¯ç”Ÿå‘½ä¸­çš„ä¸€ç¬ï¼Œä½†å°äººé¡å¤¥ä¼´è€Œè¨€ï¼Œå»æ˜¯ä¸€ç”Ÿçš„ç¾ˆçµ†ã€‚åœ¨é€åˆ¥äº†å‹‡è€…æ¬£æ¢…çˆ¾å¾Œï¼ŒèŠ™è‰è“®æ·±åˆ»é«”æœƒåˆ°äººé¡ç”Ÿå‘½çš„çŸ­æš«èˆ‡è„†å¼±ï¼Œç‚ºäº†æ›´äº†è§£ã€Œäººé¡ã€ï¼Œå¥¹è¸ä¸Šäº†å‰å¾€å¾å‰å†’éšªä¹‹åœ°çš„æ—…ç¨‹ã€‚\nåœ¨ç¬¬äºŒå­£ä¸­ï¼ŒèŠ™è‰è“®é€šéäº†ä¸€ç´šé­”æ³•ä½¿è€ƒè©¦ï¼Œèˆ‡å¼Ÿå­è²»å€«ã€æˆ°å£«ä¿®å¡”çˆ¾å…‹ç¹¼çºŒå‘åŒ—éƒ¨é«˜åŸå‰é€²ï¼Œç›®æ¨™æ˜¯å‚³èªªä¸­éˆé­‚é•·çœ ä¹‹åœ°â€”â€”æ­é›·å…¨ã€‚åœ¨é‚£è£¡ï¼Œå¥¹å¸Œæœ›èƒ½å†æ¬¡è¦‹åˆ°æ¬£æ¢…çˆ¾ï¼Œä¸¦è§£é–‹é—œæ–¼ç•¶å¹´å†’éšªä¸­æœªæ›¾æåŠçš„ç§˜å¯†ã€‚æœ¬å­£å°‡æœ‰æ›´å¤šé—œæ–¼é­”æ³•ä¸–ç•Œçš„æ·±åº¦æå¯«ï¼Œä»¥åŠèˆ‡é­”æ—ã€Œä¸ƒå´©è³¢ã€æ®˜é»¨çš„æ¿€çƒˆæˆ°é¬¥ã€‚Madhouse çš„è£½ä½œæ°´æº–ä¾èˆŠç¶­æŒé ‚å°–ï¼Œç´°è†©çš„ä½œç•«èˆ‡æ‚ æšçš„é…æ¨‚ï¼Œå°‡å¸¶çµ¦è§€çœ¾æœ€æ²‰æµ¸çš„å¥‡å¹»é«”é©—ã€‚é€™ä¸åƒ…æ˜¯æˆ°é¬¥ç•ªï¼Œæ›´æ˜¯ä¸€éƒ¨æ¢è¨æ™‚é–“ã€è¨˜æ†¶èˆ‡å‚³æ‰¿çš„æ„Ÿäººè©©ç¯‡ã€‚'
    },
    {
        t: 'æˆ‘æ¨çš„å­©å­ ç¬¬äºŒå­£',
        key: 'æˆ‘æ¨çš„å­©å­',
        url: 'https://www.myvideo.net.tw/details/3/23277',
        desc: 'æ¼”è—åœˆçš„å…‰é®®äº®éº—ä¹‹ä¸‹ï¼Œéš±è—è‘—ç„¡æ•¸çš„è¬Šè¨€èˆ‡é»‘æš—ã€‚ç¹¼ç¬¬ä¸€å­£éœ‡æ’¼å…¨çƒçš„é–‹å ´èˆ‡ã€ŒBå°ç”ºã€çš„é‡ç”Ÿå¾Œï¼Œç¬¬äºŒå­£å°‡é€²å…¥åŸä½œä¸­æœ€å—å¥½è©•çš„ã€Œèˆå°åŠ‡ç¯‡ã€ã€‚é˜¿å¥äºç‚ºäº†è¿½æŸ¥æ®ºå®³æ¯è¦ªæ˜Ÿé‡æ„›çš„çœŸå…‡ï¼Œæ±ºå®šåƒèˆ‡ã€ŒåŠ‡åœ˜Lalalaiã€çš„2.5æ¬¡å…ƒèˆå°åŠ‡æ¼”å‡ºã€‚åœ¨é€™è£¡ï¼Œä»–å°‡é­é‡æ¼”æŠ€å¤©æ‰é»‘å·èŒœèˆ‡å…’æ™‚ç©ä¼´æœ‰é¦¬ä½³å¥ˆçš„æ¿€çƒˆç«¶çˆ­ï¼Œä¸‰äººä¹‹é–“çš„æ¼”æŠ€ç¢°æ’èˆ‡æƒ…æ„Ÿç³¾è‘›å°‡æˆç‚ºæœ¬å­£æœ€å¤§çœ‹é»ã€‚\nå¦ä¸€æ–¹é¢ï¼Œéœ²æ¯”ä¹Ÿåœ¨å¶åƒé€™æ¢å……æ»¿èŠæ£˜çš„é“è·¯ä¸ŠæŒçºŒåŠªåŠ›ï¼Œè©¦åœ–è¿½è¶•æ¯è¦ªçš„èƒŒå½±ã€‚æœ¬å­£å°‡æ›´æ·±å…¥æ¢è¨æ¼”è—åœˆçš„æ®˜é…·ç¾å¯¦ï¼ŒåŒ…æ‹¬åŸä½œè€…èˆ‡æ”¹ç·¨åŠ‡æœ¬çš„è§’åŠ›ã€ç«¥æ˜Ÿçš„è½‰å‹å›°å¢ƒã€ä»¥åŠç‚ºäº†æˆåå¿…é ˆä»˜å‡ºçš„ä»£åƒ¹ã€‚å‹•ç•«å·¥æˆ¿ä¸€è²«çš„é«˜å“è³ªè£½ä½œï¼Œæ­é…å¼µåŠ›åè¶³çš„åŠ‡æƒ…èˆ‡ç¥ç´šç‰‡å°¾æ›²ï¼Œçµ•å°æ˜¯æœ¬å­£è©±é¡Œéœ¸æ¬Šã€‚çœ‹è‘—é˜¿å¥äºå¦‚ä½•åœ¨å¾©ä»‡èˆ‡å¤¢æƒ³ä¹‹é–“æ™æ‰ï¼Œä»¥åŠé‚£äº›ç‚ºäº†ã€Œè¬Šè¨€ã€è€Œæ´»è‘—çš„äººå€‘ï¼Œå°‡å¦‚ä½•æ¼”ç¹¹å‡ºæœ€çœŸå¯¦çš„è‡ªå·±ã€‚'
    },
    {
        t: 'å’’è¡“è¿´æˆ° æ­»æ»…è¿´æ¸¸ å‰ç¯‡',
        key: 'å’’è¡“è¿´æˆ°',
        url: 'https://www.myvideo.net.tw/details/4/24125',
        desc: 'æ¾€è°·äº‹è®Šå¸¶ä¾†çš„ç ´å£èˆ‡çµ•æœ›å°šæœªå¹³æ¯ï¼Œæ›´æ®˜é…·çš„ç”Ÿå­˜éŠæˆ²ã€Œæ­»æ»…è¿´æ¸¸ã€å·²ç„¶å±•é–‹ã€‚é€™æ˜¯ç”±å²ä¸Šæœ€æƒ¡å’’è¡“å¸«åŠ èŒ‚æ†²å€«ï¼ˆç¾‚ç´¢ï¼‰æ‰€ç­–åŠƒï¼Œç‚ºäº†è®“å…¨æ—¥æœ¬äººé¡èˆ‡å¤©å…ƒåŒåŒ–ï¼Œé€²è€Œå¼·è¿«æ‰€æœ‰å’’è¡“å¸«èˆ‡éè¡“å¸«åƒèˆ‡çš„äº’ç›¸æ®˜æ®ºå„€å¼ã€‚ä¸»è§’è™æ–æ‚ ä»ç‚ºäº†è´–ç½ªã€ç‚ºäº†æ‹¯æ•‘å§å§æ´¥ç¾ç´€ï¼Œä»¥åŠè§£é–‹å°å°äº”æ¢æ‚Ÿçš„ã€Œç„é–€ç–†ã€ï¼Œæ¯…ç„¶æ±ºç„¶åœ°æŠ•èº«é€™å ´åœ°ç„èˆ¬çš„éŠæˆ²ã€‚\næœ¬ç¯‡ç« å°‡èšç„¦æ–¼è¦å‰‡è¤‡é›œä¸”å……æ»¿æ™ºé¬¥çš„æˆ°é¬¥éç¨‹ï¼Œé™¤äº†ä¸»è§’ç¾¤å¤–ï¼Œè¨±å¤šéå»æœªæ›¾å±•ç¾å¯¦åŠ›çš„ç‰¹ç´šè¡“å¸«å¦‚ä¹™éª¨æ†‚å¤ªï¼Œä»¥åŠæ–°ç™»å ´çš„å¼·è€…å¦‚åŒè³­å¾’èˆ¬çš„ç§¤é‡‘æ¬¡ã€æˆ°é¬¥ç‹‚é¹¿ç´«é›²ä¸€éƒ½å°‡å¤§é¡¯èº«æ‰‹ã€‚MAPPA å†æ¬¡å±•ç¾äº†åŠ‡å ´ç‰ˆç­‰ç´šçš„å‹•ä½œå ´é¢ï¼Œæµæš¢çš„é‹é¡èˆ‡å……æ»¿è¿«åŠ›çš„å’’è¡“å°æ±ºï¼Œä¿è­‰è®“ç†±è¡€æ¼«è¿·å¤§å‘¼éç™®ã€‚é€™ä¸åƒ…æ˜¯å–®ç´”çš„åŠ›é‡æ¯”æ‹šï¼Œæ›´æ˜¯ä¿¡å¿µèˆ‡è¦ºæ‚Ÿçš„ç¢°æ’ã€‚åœ¨æ²’æœ‰äº”æ¢æ‚Ÿçš„ä¸–ç•Œè£¡ï¼Œä»–å€‘è©²å¦‚ä½•å®ˆè­·æœ€å¾Œçš„å…‰æ˜ï¼Ÿ'
    },
    {
        t: 'ç‡ƒæ²¹è»Šé¬¥é­‚ ç¬¬ä¸‰å­£',
        key: 'ç‡ƒæ²¹è»Šé¬¥é­‚',
        url: 'https://www.myvideo.net.tw/details/4/28879',
        desc: 'åœ¨é›»å‹•è»Šæ™®åŠã€å…§ç‡ƒæ©Ÿè»Šè¼›å³å°‡çµ•è·¡çš„æœªä¾†ï¼Œé€™æ˜¯ä¸€é¦–ç»çµ¦æ±½æ²¹å¼•æ“çš„æœ€å¾Œè¼“æ­Œã€‚ã€ŒMFGã€é€™é …åœ¨æ—¥æœ¬èˆ‰è¡Œçš„å…¬é“è³½è»Šé‹å‹•ï¼Œä»¥å…¶ä¸é™æ”¹è£ã€è¿½æ±‚æ¥µé€Ÿçš„é‡ç”Ÿé­…åŠ›å¸­æ²å…¨çƒã€‚ç¹¼æ‰¿äº†ã€Œç§‹åå±±è»Šç¥ã€è—¤åŸæ‹“æµ·æ„å¿—çš„å¤©æ‰è»Šæ‰‹ç‰‡æ¡å¤å‘ï¼Œé§•é§›è‘—ç›¸å°æ–¼å°æ‰‹è¶…è·‘è€Œè¨€æ€§èƒ½åŠ£å‹¢çš„ Toyota 86ï¼Œæ†‘è—‰è‘—ç¥ä¹å…¶æŠ€çš„é§•é§›æŠ€è¡“ï¼Œåœ¨å¼·æ•µç’°ä¼ºçš„è³½å ´ä¸Šå±¢å‰µå¥‡è¹Ÿã€‚\nç¬¬ä¸‰å­£æ•…äº‹ä¾†åˆ° MFG å¹´åº¦è³½äº‹çš„é—œéµç¬¬ä¸‰æˆ°ã€ŒThe Peninsula çœŸé¶´ã€ã€‚é€™æ¢è³½é“çµåˆäº†é«˜é€Ÿç›´ç·šèˆ‡èœ¿èœ’å±±è·¯ï¼Œå°è»Šæ‰‹çš„ç¶œåˆå¯¦åŠ›æ˜¯æ¥µå¤§è€ƒé©—ã€‚å¤å‘å°‡é¢è‡¨ä¾†è‡ªã€Œç¥ä¹‹åäº”äººã€ä¸­æ›´å¼·å¤§çš„å°æ‰‹ï¼ŒåŒ…æ‹¬æ“æœ‰å£“å€’æ€§é¦¬åŠ›çš„æ³•æ‹‰åˆ©ã€è—å¯¶å …å°¼ç­‰é ‚ç´šè¶…è·‘ã€‚å¼•æ“çš„å’†å“®è²ã€è¼ªèƒçš„æ‘©æ“¦è²ã€ä»¥åŠé‚£ç†Ÿæ‚‰çš„æ­é™¸ç¯€æ‹ï¼ˆEurobeatï¼‰ï¼Œå°‡å†æ¬¡é»ç‡ƒè§€çœ¾å¿ƒä¸­çš„è³½è»Šé­‚ã€‚é€™æ˜¯ä¸€éƒ¨é—œæ–¼é€Ÿåº¦ã€å‚³æ‰¿èˆ‡å¤¢æƒ³çš„ç†±è¡€ä½œå“ï¼Œçµ•å°ä¸å®¹éŒ¯éã€‚'
    },
    {
        t: 'æ³›è€Œä¸ç²¾çš„æˆ‘è¢«é€å‡ºäº†å‹‡è€…éšŠä¼',
        key: 'æ³›è€Œä¸ç²¾', // Missing in HTML
        url: 'https://www.myvideo.net.tw/details/3/32390',
        desc: 'é€™æ˜¯ä¸€å€‹é—œæ–¼ã€Œæ‰¿èªè‡ªæˆ‘åƒ¹å€¼ã€çš„æº«é¦¨æ•…äº‹ã€‚ä¸»è§’å¥§æ©å› ç‚ºæœ¬èº«èƒ½åŠ›æ•¸å€¼å¹³å‡ï¼Œè¢«èªç‚ºæ¨£æ¨£é€šæ¨£æ¨£é¬†ï¼Œè€Œè¢«å‹¢åˆ©çš„å‹‡è€…éšŠä¼è¦–ç‚ºç´¯è´…ç„¡æƒ…è¸¢é™¤ã€‚ç„¶è€Œï¼Œä»–å€‘å»ä¸çŸ¥é“å¥§æ©å…¶å¯¦ä¸€ç›´åœ¨èƒŒå¾Œé»˜é»˜ä½¿ç”¨å„ç¨®è¼”åŠ©é­”æ³•èˆ‡é“å…·ï¼Œæ”¯æ’è‘—æ•´å€‹éšŠä¼çš„é‹ä½œã€‚é›¢é–‹éšŠä¼çš„å¥§æ©ä¸¦æ²’æœ‰å› æ­¤å–ªå¿—ï¼Œåè€Œæ±ºå®šåœ¨é‚Šå¢ƒå°é®é–‹å§‹æ‚ é–’çš„æ…¢ç”Ÿæ´»ã€‚\nåœ¨æ–°çš„ç”Ÿæ´»ä¸­ï¼Œä»–é‹ç”¨é‚£äº›è¢«å‰éšŠå‹è¼•è¦–çš„ã€Œæ³›è€Œä¸ç²¾ã€æŠ€èƒ½ï¼Œè§£æ±ºäº†è¨±å¤šé€£å°ˆè·å†’éšªè€…éƒ½æŸæ‰‹ç„¡ç­–çš„é›£é¡Œï¼Œæ„å¤–åœ°æˆç‚ºäº†å°é®çš„å®ˆè­·ç¥ï¼Œä¸¦é‚‚é€…äº†è¨±å¤šçè²´çš„å¤¥ä¼´ã€‚æœ¬ä½œæ‰“ç ´äº†å‚³çµ±å°æ–¼ã€Œå¼·è€…ã€çš„å®šç¾©ï¼Œå¼·èª¿å¯¦ç”¨æ€§èˆ‡æ™ºæ…§çš„é‡è¦æ€§ã€‚çœ‹è‘—ä¸»è§’å¦‚ä½•ç”¨çœ‹ä¼¼å¹³å‡¡çš„èƒ½åŠ›æ‰“è‡‰å‰éšŠå‹ï¼Œä¸¦åœ¨è¼•é¬†çš„æ—¥å¸¸ä¸­æ”¶ç©«çœŸæ‘¯çš„å‹æƒ…èˆ‡æ„›æƒ…ï¼Œæ˜¯ä¸€éƒ¨ç¯€å¥èˆ’é©ã€çœ‹å®Œæœƒè®“äººå¿ƒæƒ…æ„‰å¿«çš„ç•°ä¸–ç•Œæ¼«éŠç³»ä½œå“ã€‚'
    },
    {
        t: 'åˆ¤è™•å‹‡è€…åˆ‘',
        key: 'åˆ¤è™•å‹‡è€…åˆ‘',
        url: 'https://www.myvideo.net.tw/details/3/32447',
        desc: 'ã€Œå‹‡è€…ã€é€™å€‹ç¨±è™Ÿï¼Œå¦‚æœè®Šæˆäº†ä¸€ç¨®æœ€æ®˜é…·çš„ã€Œåˆ‘ç½°ã€ï¼Ÿé€™éƒ¨æ”¹ç·¨è‡ªè©±é¡Œè¼•å°èªªçš„æš—é»‘å¥‡å¹»å¤§ä½œï¼Œå¾¹åº•é¡›è¦†äº†æˆ‘å€‘å°å‹‡è€…æ•…äº‹çš„æƒ³åƒã€‚ä¸»è§’æ‰ä¼Šç¾…æ›¾ç¶“æ˜¯æ‹¯æ•‘ä¸–ç•Œçš„è‹±é›„ï¼Œå»å› ç‚ºçŠ¯ä¸‹å¤§ç½ªè€Œè¢«å‰å¥ªäº†ä¸€åˆ‡ï¼Œè¢«åˆ¤è™•åç‚ºã€Œå‹‡è€…ä¹‹åˆ‘ã€çš„æ¥µåˆ‘â€”â€”é‚£å°±æ˜¯å¿…é ˆæ°¸é ä»¥å‹‡è€…çš„èº«åˆ†æˆ°é¬¥ï¼Œç›´åˆ°æ­»äº¡ç‚ºæ­¢ï¼Œç”šè‡³é€£æ­»å¾Œéƒ½ä¸å¾—å®‰å¯§ã€‚\nç‚ºäº†å°æŠ—æ²åœŸé‡ä¾†çš„é­”ç‹è»ï¼Œç‹åœ‹é›†çµäº†ä¸€ç¾¤ç”±æ¥µæƒ¡ç½ªçŠ¯çµ„æˆçš„ã€Œæ‡²ç½°å‹‡è€…éƒ¨éšŠã€ã€‚é€™è£¡æ²’æœ‰å…‰é®®äº®éº—çš„æ­£ç¾©ï¼Œåªæœ‰ç‚ºäº†ç”Ÿå­˜èˆ‡æ¸›åˆ‘è€Œé€²è¡Œçš„è¡€è…¥æ®ºæˆ®ã€‚æ‰ä¼Šç¾…å¿…é ˆç‡é ˜é€™ç¾¤äººæ¸£éšŠå‹ï¼Œåœ¨çµ•æœ›çš„æˆ°å ´ä¸Šå°‹æ‰¾ä¸€çµ²æ•‘è´–ã€‚æœ¬ä½œä»¥åšé‡çš„ç­†è§¸æç¹ªäº†äººæ€§çš„é†œæƒ¡èˆ‡å…‰è¼ï¼Œæˆ°é¬¥æå¯«æ‹³æ‹³åˆ°è‚‰ï¼ŒåŠ‡æƒ…å……æ»¿é“å¾·çš„ç°è‰²åœ°å¸¶èˆ‡åè½‰ã€‚å¦‚æœä½ çœ‹è†©äº†æ¨£æ¿åŒ–çš„ç•°ä¸–ç•Œç•ªï¼Œé€™éƒ¨å……æ»¿è¡€è…¥å‘³èˆ‡æ²ˆé‡æ„Ÿçš„ä½œå“çµ•å°èƒ½å¸¶ä¾†å¼·çƒˆçš„è¡æ“Šã€‚'
    },
    {
        t: 'è¼å¤œå§¬æƒ³è®“äººå‘Šç™½ï¼Ÿç‰¹åˆ¥ç¯‡ã€Œé‚å‘å¤§äººçš„éšæ¢¯ã€',
        key: 'è¼å¤œå§¬', // Missing in HTML
        url: 'https://www.myvideo.net.tw/details/3/32347',
        desc: 'å¤©æ‰å€‘çš„æˆ€æ„›é ­è…¦æˆ°ï¼Œé€™æ¬¡å°‡é‚å‡ºé—œéµçš„ä¸€å¤§æ­¥ï¼ç§€çŸ¥é™¢å­¸åœ’çš„å­¸ç”Ÿæœƒé•·ç™½éŠ€å¾¡è¡Œèˆ‡å‰¯æœƒé•·å››å®®è¼å¤œï¼Œåœ¨ç¶“æ­·äº†ç„¡æ•¸æ¬¡çš„è©¦æ¢èˆ‡æ”»é˜²å¾Œï¼Œå…©äººçš„é—œä¿‚çµ‚æ–¼åœ¨å¥‰å¿ƒç¥­å¾Œæœ‰äº†æ±ºå®šæ€§çš„é€²å±•ã€‚æœ¬æ¬¡ç‰¹åˆ¥ç¯‡ã€Œé‚å‘å¤§äººçš„éšæ¢¯ã€å°‡èšç„¦æ–¼å…©äººåœ¨ç¢ºç«‹å¿ƒæ„å¾Œï¼Œå¦‚ä½•é¢å°å³å°‡åˆ°ä¾†çš„ã€Œç¬¬ä¸€æ¬¡ã€ã€‚\né€™ä¸åƒ…åƒ…æ˜¯æˆ€æ„›çš„ç”œèœœï¼Œæ›´åŒ…å«äº†é’æ˜¥æœŸå°æ–¼è¦ªå¯†é—œä¿‚çš„æ‡µæ‡‚ã€æœŸå¾…èˆ‡ä¸å®‰ã€‚åŸä½œä¸­èµ¤å‚æ˜è€å¸«ä»¥å…¶ç¨ç‰¹çš„å¹½é»˜æ„Ÿèˆ‡ç´°è†©çš„å¿ƒç†æå¯«ï¼Œå°‡é€™æ®µç•¥é¡¯é’æ¾€å»åˆç„¡æ¯”çœŸå¯¦çš„éç¨‹åˆ»ç•«å¾—æ·‹æ¼“ç›¡è‡´ã€‚å‹•ç•«ç‰ˆå°‡å»¶çºŒä¸€è²«çš„é«˜æ°´æº–æ¼”å‡ºï¼Œæ­é…è²å„ªå¤è³€è‘µèˆ‡å¤å·æ…çš„ç²¾æ¹›é…éŸ³ï¼Œä¿è­‰è®“è§€çœ¾åœ¨æ§è…¹å¤§ç¬‘çš„åŒæ™‚ï¼Œä¹Ÿè¢«å…©äººçš„ç´”æƒ…é–ƒçé›™çœ¼ã€‚é€™æ˜¯ä¸€éƒ¨ç»çµ¦æ‰€æœ‰æ›¾ç¶“æ­·æˆ–åš®å¾€é’æ˜¥æˆ€æ„›çš„äººå€‘çš„ç¦®ç‰©ï¼Œä¹Ÿæ˜¯è¼å¤œå§¬ç³»åˆ—é‚å‘å®Œçµçš„é‡è¦ç¯‡ç« ã€‚'
    },
    {
        t: 'Fate/strange Fake',
        key: 'Fate', // Missing in HTML
        url: 'https://www.myvideo.net.tw/details/3/29508',
        desc: 'é€™æ˜¯ç™¼ç”Ÿåœ¨ç¾åœ‹è¥¿éƒ¨é›ªåŸå¸‚ï¼Œä¸€å ´å……æ»¿è¬åœ˜èˆ‡ç•°å¸¸çš„ã€Œè™›å½è–æ¯æˆ°çˆ­ã€ã€‚ä¸åŒæ–¼å†¬æœ¨å¸‚çš„æ­£è¦æˆ°çˆ­ï¼Œé€™å ´ç”±ä¸çŸ¥åé­”è¡“å¸«æ‰€ç­–åŠƒçš„å„€å¼ï¼Œå¾ä¸€é–‹å§‹å°±å……æ»¿äº†æ‰­æ›²ï¼šåŸæœ¬æ‡‰è©²æœ‰çš„ä¸ƒå€‹è·éšè®Šæˆäº†åä¸‰å€‹ï¼Œç”šè‡³å‡ºç¾äº†ä¸è©²å­˜åœ¨çš„å¾è€…ã€‚å„æ–¹å‹¢åŠ›ç‚ºäº†å„è‡ªçš„ç›®çš„é›†çµæ–¼æ­¤ï¼Œå±•é–‹äº†ä¸€å ´æ²’æœ‰è¦å‰‡çš„æ··æˆ°ã€‚\næœ¬ä½œç”±ã€Šç„¡é ­é¨å£«ç•°èéŒ„ã€‹ä½œè€…æˆç”°è‰¯æ‚ŸåŸ·ç­†ï¼Œå°‡åŸæœ¬é¾å¤§çš„ Fate ä¸–ç•Œè§€å†æ¬¡æ“´å¼µã€‚è®€è€…å°‡çœ‹åˆ°è¨±å¤šå‚³èªªä¸­çš„è‹±éˆä»¥æ„æƒ³ä¸åˆ°çš„å½¢å¼ç™»å ´ï¼Œä¾‹å¦‚èº«ç‚ºã€Œæ¯€æ»…ã€åŒ–èº«çš„æ©å¥‡éƒ½ã€èº«ç‚ºã€Œç˜Ÿç–«ã€æ¦‚å¿µçš„è’¼ç™½é¨å£«ï¼Œä»¥åŠæœ¬æ¬¡è–æ¯æˆ°çˆ­æœ€æ ¸å¿ƒçš„è¬åœ˜â€”â€”å‰çˆ¾ä¼½ç¾ä»€çš„ç¾èº«ã€‚åŠ‡æƒ…éŒ¯ç¶œè¤‡é›œï¼Œå¤šç·šæ•˜äº‹äº¤ç¹”å‡ºå®å¤§çš„ç¾¤åƒåŠ‡ã€‚å‹•ç•«ç”± A-1 Pictures å‚¾åŠ›è£½ä½œï¼Œè¯éº—çš„ç‰¹æ•ˆèˆ‡å£¯é—Šçš„å ´æ™¯ï¼Œå°‡é€™å ´ã€Œç¥ä»™æ‰“æ¶ã€çš„å²è©©æ„Ÿå®Œç¾å‘ˆç¾ã€‚'
    },
    {
        t: 'ç›¸åçš„ä½ å’Œæˆ‘',
        key: 'ç›¸åçš„ä½ å’Œæˆ‘',
        url: 'https://www.myvideo.net.tw/details/3/32423',
        desc: 'åœ¨é€™å€‹ç¨ç¨æœ‰äº›æµ®èºçš„æ™‚ä»£ï¼Œæˆ‘å€‘éƒ½éœ€è¦ä¸€é»ç´”ç²¹çš„ç³–åˆ†ä¾†æ²»ç™’å¿ƒéˆã€‚æ•…äº‹è¬›è¿°äº†å……æ»¿æ´»åŠ›ã€ç¸½æ˜¯èµ°åœ¨æµè¡Œå°–ç«¯çš„è¾£å¦¹éˆ´æœ¨ï¼Œèˆ‡æ²ˆé»˜å¯¡è¨€ã€ç¸½æ˜¯ç¨ä¾†ç¨å¾€çš„çœ¼é¡ç”·è°·ï¼Œé€™å…©å€‹çœ‹ä¼¼è™•æ–¼æ ¡åœ’éšç´šå…©ç«¯ã€æ€§æ ¼å®Œå…¨ç›¸åçš„äººï¼Œå»æ„å¤–åœ°æ“¦å‡ºäº†æˆ€æ„›çš„ç«èŠ±ã€‚\næ²’æœ‰ä»¤äººèƒƒç—›çš„èª¤æœƒï¼Œä¹Ÿæ²’æœ‰æ‹–æ³¥å¸¶æ°´çš„ç³¾è‘›ï¼Œé€™éƒ¨ä½œå“ä¸»æ‰“çš„å°±æ˜¯ã€Œç›´çƒå°æ±ºã€çš„çˆ½å¿«æ„Ÿã€‚éˆ´æœ¨ç¸½æ˜¯æ¯«ä¸æ©é£¾åœ°è¡¨é”å°è°·çš„å–œæ„›ï¼Œè€Œè°·é›–ç„¶å®³ç¾ï¼Œä¹Ÿæœƒç”¨è‡ªå·±çš„æ–¹å¼çµ¦äºˆå›æ‡‰ã€‚å…©äººä¹‹é–“å……æ»¿é»˜å¥‘çš„äº’å‹•ï¼Œä»¥åŠå‘¨é­æœ‹å‹å€‘æº«æš–çš„å®ˆè­·ï¼Œæ§‹æˆäº†ä¸€å¹…æœ€ç¾å¥½çš„é’æ˜¥ç•«å·ã€‚ä½œè€…é˜¿è³€æ¾¤ç´…èŒ¶ä»¥å…¶ç¨ç‰¹çš„ç·šæ¢é¢¨æ ¼èˆ‡ç”Ÿå‹•çš„äººç‰©è¡¨æƒ…ï¼Œè®“é€™éƒ¨ä½œå“åœ¨çœ¾å¤šæ ¡åœ’æ¼«ä¸­ç¨æ¨¹ä¸€å¹Ÿã€‚ç„¡è«–ä½ æ˜¯æ­£åœ¨æˆ€æ„›ä¸­ï¼Œé‚„æ˜¯å–®èº«ä¸€äººï¼Œé€™éƒ¨å……æ»¿æ­£èƒ½é‡èˆ‡å¿ƒå‹•ç¬é–“çš„å‹•ç•«ï¼Œçµ•å°èƒ½è®“ä½ å˜´è§’å¤±å®ˆï¼Œé‡æ‹¾å°æ„›æƒ…çš„æ†§æ†¬ã€‚'
    },
    {
        t: 'å…¬ä¸»æ®¿ä¸‹ï¼Œã€Œæ‹·å•ã€çš„æ™‚é–“åˆ°äº† ç¬¬äºŒå­£',
        key: 'å…¬ä¸»æ®¿ä¸‹',
        url: 'https://www.myvideo.net.tw/details/3/26411',
        desc: 'ã€Œå±ˆæœå§ï¼åœ¨ç¾å‘³èˆ‡èª˜æƒ‘é¢å‰ï¼Œäººé¡çš„å°Šåš´æ ¹æœ¬ä¸å€¼ä¸€æï¼ã€å²ä¸Šæœ€å»¢æŸ´ï¼ˆ?ï¼‰çš„äººè³ªå…¬ä¸»èˆ‡æœ€æº«æŸ”çš„é­”ç‹è»æ‹·å•å®˜å€‘å›ä¾†äº†ï¼èº«ç‚ºåœ‹ç‹è»åœ˜é•·å…¼è–åŠæŒæœ‰è€…çš„å…¬ä¸»ï¼Œåœ¨è¢«é­”ç‹è»ä¿˜è™œå¾Œï¼Œæ¯å¤©éƒ½è¦é¢å°æ…˜ç„¡äººé“çš„â€”â€”ç¾é£Ÿæ‹·å•ã€‚å¾å‰›å‡ºçˆçš„åå¸ã€é ‚ç´šçš„æ‹‰éºµï¼Œåˆ°æº«æ³‰æ—…è¡Œèˆ‡é›»ç©éŠæˆ²ï¼Œé­”ç‹è»ç„¡æ‰€ä¸ç”¨å…¶æ¥µåœ°æƒ³è®“å…¬ä¸»æ‹›ä¾›ï¼Œè€Œå…¬ä¸»ä¹Ÿç¸½æ˜¯ä¸è² çœ¾æœ›åœ°åœ¨ä¸‰ç§’å…§å…‰é€ŸæŠ•é™ï¼Œæ´©æ¼å„ç¨®ç„¡é—œç·Šè¦çš„ç‹åœ‹æ©Ÿå¯†ã€‚\nç¬¬äºŒå­£å°‡å¸¶ä¾†æ›´å¤šè…¦æ´å¤§é–‹çš„ã€Œåˆ‘å…·ã€èˆ‡æ›´çˆ†ç¬‘çš„äº’å‹•ã€‚é™¤äº†æ—¢æœ‰çš„æ‹·å•å®˜å¤–ï¼Œé­”ç‹çš„å¥³å…’ã€ç”šè‡³æ˜¯é­”ç‹æœ¬äººéƒ½å°‡åŠ å…¥é€™å ´é¬§åŠ‡ã€‚é€™éƒ¨ä½œå“æ²’æœ‰æ²‰é‡çš„åŠ‡æƒ…ï¼Œåªæœ‰æ»¿æ»¿çš„ç™‚ç™’èˆ‡ç¬‘é»ã€‚çœ‹è‘—å…¬ä¸»å¤§å£åƒè‘—ç¾é£Ÿçš„å¹¸ç¦æ¨¡æ¨£ï¼Œä¸åƒ…èƒ½å‹¾èµ·ä½ çš„é£Ÿæ…¾ï¼Œæ›´èƒ½æ´—æ»Œä¸€æ•´å¤©çš„ç–²æ†Šã€‚é€™çµ•å°æ˜¯æœ¬å­£æœ€ä½³çš„é…é£¯å‹•ç•«ï¼Œå¼·çƒˆå»ºè­°ä¸è¦åœ¨æ·±å¤œç©ºè…¹æ™‚è§€çœ‹ï¼'
    }
];

// Helper to Insert
const insertArticle = (title, slug, content, date, isPinned = 0) => {
    // 1. Assign unique image for cover (random logic or specific)
    const coverImg = '/assets/placeholder.jpg'; // We updated this in previous step using assign_unique_images.js check, but here we overwrite content. 
    // We should preserve the image_url if it exists?
    // Actually, I'll just rely on the fallback or previous script. 
    // BUT the SQL REPLACE will overwrite image_url.
    // I should get existing image_url if possible.
    const existing = db.prepare('SELECT image_url FROM articles WHERE slug = ?').get(slug);
    const finalImg = existing ? existing.image_url : coverImg;

    const stmt = db.prepare(`REPLACE INTO articles (title, content, category, slug, published_at, is_pinned, image_url, excerpt) VALUES (?, ?, ?, ?, ?, ?, ?, ?)`);
    stmt.run(title, content, 'ç·¨è¼¯ç²¾é¸', slug, date, isPinned, finalImg, 'æœ¬é€±æ–°ç•ªæ›´æ–°æ‡¶äººåŒ…ï¼');
    console.log(`âœ… Regenerated: ${title}`);
};

// Generate Full Content
const generateBody = (introText, weekPrefix = '') => {
    let body = introText + '\n\n';
    items.forEach((item, idx) => {
        const imgUrl = getImg(item.key) || getImg(item.t.split(' ')[0]);
        // Layout: Centered Image -> Title -> Text -> Button
        // Markdown Image: ![Alt](Url)

        let sectionTitle = item.t;
        if (weekPrefix) sectionTitle += ` (${weekPrefix})`;

        body += `## ${sectionTitle}\n\n`;
        // Check "No Left Float". Default Markdown `![]` is usually block level or inline. 
        // We'll add standard markdown image.
        if (imgUrl) {
            body += `![${item.t}åŠ‡ç…§](${imgUrl})\n\n`;
        }

        body += `${item.desc}\n\n`;
        body += `<a href="${item.url}" class="btn-orange-small" target="_blank">å‰å¾€MyVideoç·šä¸Šè§€çœ‹</a>\n\n`;
        body += `---\n\n`;
    });
    return body;
};

// 1. Highlight
const highlightBody = generateBody('2026 1æœˆæ–°ç•ªé–‹æ’­å•¦ï¼æœ¬å­£å¼·æª”é›²é›†ï¼Œä¸çŸ¥é“è©²è¿½å“ªéƒ¨å—ï¼Ÿç·¨è¼¯éƒ¨ç²¾é¸äº† 10 éƒ¨çµ•å°ä¸èƒ½éŒ¯éçš„è©±é¡Œå¤§ä½œï¼Œå¾ç†±è¡€æˆ°é¬¥åˆ°æˆ€æ„›å–œåŠ‡æ‡‰æœ‰ç›¡æœ‰ï¼');
insertArticle('ã€1æœˆæ–°ç•ªã€‘é‡é»å‹•ç•«æ›´æ–°ç¸½æ•´ç†ï¼é€™10éƒ¨ä½ è·Ÿä¸Šäº†å—ï¼Ÿ', 'jan-2026-highlights', highlightBody, '2026-01-01');

// 2. Weekly (Vol 1-4)
for (let i = 1; i <= 4; i++) {
    const weekBody = generateBody(`1æœˆæ–°ç•ªé€²å…¥ç¬¬ ${i} é€±ï¼ŒåŠ‡æƒ…æ¼¸å…¥ä½³å¢ƒï¼ä»¥ä¸‹æ˜¯æœ¬é€± 10 éƒ¨é‡é»å‹•ç•«çš„æœ€æ–°æ›´æ–°æƒ…å ±ï¼š`, `EP.${i}`);
    insertArticle(`ã€1æœˆæ–°ç•ªé€±å ±ã€‘Vol.${i}ï¼šæœ¬é€±æ›´æ–°é‡é»é€Ÿå ±`, `jan-2026-weekly-vol-${i}`, weekBody, `2026-01-${i * 7}`);
}

console.log('ğŸ‰ All articles regenerated with rich content and images.');
